{"version":3,"file":"static/chunks/611.5ebfb6f5efd22816.js","mappings":"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","sources":["webpack://_N_E/../ui-core/src/assets/AssetGroupSuggest.tsx","webpack://_N_E/../ui-core/src/assets/AssetTableFragment.tsx","webpack://_N_E/../ui-core/src/assets/AssetWipeDialog.tsx","webpack://_N_E/../ui-core/src/workspace/VirtualizedAssetTable.tsx","webpack://_N_E/../ui-core/src/assets/AssetTable.tsx","webpack://_N_E/../ui-core/src/assets/AssetsEmptyState.tsx","webpack://_N_E/../ui-core/src/assets/useAssetView.tsx","webpack://_N_E/../ui-core/src/assets/AssetsCatalogTable.tsx","webpack://_N_E/../ui-core/src/assets/AutoMaterializeSensorFlag.tsx","webpack://_N_E/../ui-core/src/assets/useAssetSearch.tsx","webpack://_N_E/../ui-core/src/nav/RepositoryLink.tsx","webpack://_N_E/../ui-core/src/nav/ScheduleOrSensorTag.tsx","webpack://_N_E/../ui-core/src/runs/useCursorPaginatedQuery.tsx","webpack://_N_E/../ui-core/src/assets/AssetActionMenu.tsx","webpack://_N_E/../ui-core/src/workspace/VirtualizedAssetRow.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import {Box, Checkbox, Icon, MenuItem, Suggest} from '@dagster-io/ui-components';\nimport isEqual from 'lodash/isEqual';\nimport uniqBy from 'lodash/uniqBy';\nimport {useMemo} from 'react';\n\nimport {AssetGroupSelector} from '../graphql/types';\nimport {ClearButton} from '../ui/ClearButton';\nimport {buildRepoPathForHuman} from '../workspace/buildRepoAddress';\n\ntype Asset = {\n  definition: {\n    groupName: string | null;\n    repository: {name: string; location: {name: string}};\n  } | null;\n};\n\nexport function useAssetGroupSelectorsForAssets(assets: Asset[] | undefined) {\n  return useMemo(\n    () =>\n      uniqBy(\n        (assets || []).map(buildAssetGroupSelector).filter((a) => !!a) as AssetGroupSelector[],\n        (a) => JSON.stringify(a),\n      ).sort((a, b) => a.groupName.localeCompare(b.groupName)),\n    [assets],\n  );\n}\n\n// We're using a <Suggest /> component because it's convenient to have typeahead behavior,\n// but we want to support mulit-selection. To achieve this, we show checkboxes on the items\n// and override the label text (\"2 groups\"). Blueprint doesn't need to know what the real\n// selection is, just that one exists.\nconst FAKE_SELECTED_ITEM: AssetGroupSelector = {\n  groupName: '-',\n  repositoryLocationName: '-',\n  repositoryName: '-',\n};\n\nexport const AssetGroupSuggest = ({\n  assetGroups,\n  value,\n  onChange,\n}: {\n  assetGroups: AssetGroupSelector[];\n  value: AssetGroupSelector[];\n  onChange: (g: AssetGroupSelector[]) => void;\n}) => {\n  const repoKey = (g: AssetGroupSelector) => `${g.repositoryName}@${g.repositoryLocationName}`;\n  const repoKey1 = assetGroups[0] ? repoKey(assetGroups[0]) : '';\n  const repoContextNeeded = !assetGroups.every((g) => repoKey1 === repoKey(g));\n\n  return (\n    <Suggest<AssetGroupSelector>\n      selectedItem={value.length ? FAKE_SELECTED_ITEM : null}\n      items={assetGroups}\n      menuWidth={300}\n      inputProps={{\n        style: {width: 200},\n        placeholder: 'Filter asset groupsâ€¦',\n        rightElement: value.length ? (\n          <ClearButton onClick={() => onChange([])} style={{marginTop: 5, marginRight: 4}}>\n            <Icon name=\"cancel\" />\n          </ClearButton>\n        ) : undefined,\n      }}\n      inputValueRenderer={() =>\n        value.length === 1 ? value[0]!.groupName : value.length > 1 ? `${value.length} groups` : ``\n      }\n      itemPredicate={(query, partition) =>\n        query.length === 0 || partition.groupName.toLowerCase().includes(query.toLowerCase())\n      }\n      itemsEqual={isEqual}\n      itemRenderer={(assetGroup, props) => (\n        <MenuItem\n          active={props.modifiers.active}\n          onClick={props.handleClick}\n          key={JSON.stringify(assetGroup)}\n          text={\n            <Box\n              flex={{direction: 'row', gap: 6, alignItems: 'center'}}\n              margin={{left: 4}}\n              style={{maxWidth: '500px'}}\n            >\n              <Checkbox checked={value.some((g) => isEqual(g, assetGroup))} size=\"small\" readOnly />\n              <Box\n                flex={{direction: 'row', alignItems: 'center', grow: 1, shrink: 1}}\n                style={{overflow: 'hidden'}}\n              >\n                <div style={{overflow: 'hidden'}}>\n                  {assetGroup.groupName}\n                  {repoContextNeeded ? (\n                    <span style={{opacity: 0.5, paddingLeft: 4}}>\n                      {buildRepoPathForHuman(\n                        assetGroup.repositoryName,\n                        assetGroup.repositoryLocationName,\n                      )}\n                    </span>\n                  ) : undefined}\n                </div>\n              </Box>\n            </Box>\n          }\n        />\n      )}\n      noResults={<MenuItem disabled={true} text=\"No asset groups\" />}\n      closeOnSelect={false}\n      resetOnQuery={false}\n      onItemSelect={(item) => {\n        const nextValue = value.filter((g) => !isEqual(item, g));\n        if (nextValue.length === value.length) {\n          nextValue.push(item);\n        }\n        onChange(nextValue);\n      }}\n    />\n  );\n};\n\nexport function buildAssetGroupSelector(a: Asset) {\n  return a.definition && a.definition.groupName\n    ? {\n        groupName: a.definition.groupName,\n        repositoryName: a.definition.repository.name,\n        repositoryLocationName: a.definition.repository.location.name,\n      }\n    : null;\n}\n","import {gql} from '@apollo/client';\n\nexport const ASSET_TABLE_DEFINITION_FRAGMENT = gql`\n  fragment AssetTableDefinitionFragment on AssetNode {\n    id\n    groupName\n    opNames\n    isSource\n    isObservable\n    isExecutable\n    computeKind\n    hasMaterializePermission\n    partitionDefinition {\n      description\n    }\n    description\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n  }\n`;\n\nexport const ASSET_TABLE_FRAGMENT = gql`\n  fragment AssetTableFragment on Asset {\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      ...AssetTableDefinitionFragment\n    }\n  }\n\n  ${ASSET_TABLE_DEFINITION_FRAGMENT}\n`;\n","import {RefetchQueriesFunction, gql, useMutation} from '@apollo/client';\nimport {Button, Dialog, DialogBody, DialogFooter, Group} from '@dagster-io/ui-components';\n\nimport {asAssetKeyInput} from './asInput';\nimport {AssetWipeMutation, AssetWipeMutationVariables} from './types/AssetWipeDialog.types';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {displayNameForAssetKey} from '../asset-graph/Utils';\n\ninterface AssetKey {\n  path: string[];\n}\n\nexport const AssetWipeDialog = ({\n  assetKeys,\n  isOpen,\n  onClose,\n  onComplete,\n  requery,\n}: {\n  assetKeys: AssetKey[];\n  isOpen: boolean;\n  onClose: () => void;\n  onComplete: (assetKeys: AssetKey[]) => void;\n  requery?: RefetchQueriesFunction;\n}) => {\n  const [requestWipe] = useMutation<AssetWipeMutation, AssetWipeMutationVariables>(\n    ASSET_WIPE_MUTATION,\n    {\n      variables: {assetKeys: assetKeys.map(asAssetKeyInput)},\n      refetchQueries: requery,\n    },\n  );\n\n  const wipe = async () => {\n    if (!assetKeys.length) {\n      return;\n    }\n    await requestWipe();\n    onComplete(assetKeys);\n  };\n\n  return (\n    <Dialog isOpen={isOpen} title=\"Wipe materializations\" onClose={onClose} style={{width: 600}}>\n      <DialogBody>\n        <Group direction=\"column\" spacing={16}>\n          <div>Are you sure you want to wipe materializations for these assets?</div>\n          <ul style={{paddingLeft: 32, margin: 0}}>\n            {assetKeys.map((assetKey) => {\n              const name = displayNameForAssetKey(assetKey);\n              return (\n                <li style={{marginBottom: 4}} key={name}>\n                  {name}\n                </li>\n              );\n            })}\n          </ul>\n          <div>\n            Assets defined only by their historical materializations will disappear from the Asset\n            Catalog. Software-defined assets will remain unless their definition is also deleted.\n          </div>\n          <strong>This action cannot be undone.</strong>\n        </Group>\n      </DialogBody>\n      <DialogFooter topBorder>\n        <Button intent=\"none\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button intent=\"danger\" onClick={wipe}>\n          Wipe\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n};\n\nconst ASSET_WIPE_MUTATION = gql`\n  mutation AssetWipeMutation($assetKeys: [AssetKeyInput!]!) {\n    wipeAssets(assetKeys: $assetKeys) {\n      ... on AssetWipeSuccess {\n        assetKeys {\n          path\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {useVirtualizer} from '@tanstack/react-virtual';\nimport * as React from 'react';\n\nimport {VirtualizedAssetCatalogHeader, VirtualizedAssetRow} from './VirtualizedAssetRow';\nimport {buildRepoAddress} from './buildRepoAddress';\nimport {AssetTableFragment} from '../assets/types/AssetTableFragment.types';\nimport {AssetViewType} from '../assets/useAssetView';\nimport {AssetKeyInput} from '../graphql/types';\nimport {Container, Inner} from '../ui/VirtualizedTable';\n\ntype Row =\n  | {type: 'asset'; path: string[]; displayKey: string; asset: AssetTableFragment}\n  | {type: 'folder'; path: string[]; displayKey: string; assets: AssetTableFragment[]};\n\ninterface Props {\n  headerCheckbox: React.ReactNode;\n  prefixPath: string[];\n  groups: {[displayKey: string]: AssetTableFragment[]};\n  checkedDisplayKeys: Set<string>;\n  onToggleFactory: (path: string) => (values: {checked: boolean; shiftKey: boolean}) => void;\n  onWipe: (assets: AssetKeyInput[]) => void;\n  showRepoColumn: boolean;\n  view?: AssetViewType;\n}\n\nexport const VirtualizedAssetTable = (props: Props) => {\n  const {\n    headerCheckbox,\n    prefixPath,\n    groups,\n    checkedDisplayKeys,\n    onToggleFactory,\n    onWipe,\n    showRepoColumn,\n    view = 'flat',\n  } = props;\n  const parentRef = React.useRef<HTMLDivElement | null>(null);\n  const count = Object.keys(groups).length;\n\n  const rowVirtualizer = useVirtualizer({\n    count,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => 64,\n    overscan: 5,\n  });\n\n  const totalHeight = rowVirtualizer.getTotalSize();\n  const items = rowVirtualizer.getVirtualItems();\n\n  const rows: Row[] = React.useMemo(() => {\n    return Object.entries(groups).map(([displayKey, assets]) => {\n      const path = [...prefixPath, ...JSON.parse(displayKey)];\n      const isFolder = assets.length > 1 || path.join('/') !== assets[0]!.key.path.join('/');\n      return isFolder\n        ? {type: 'folder', path, displayKey, assets}\n        : {type: 'asset', path, displayKey, asset: assets[0]!};\n    });\n  }, [prefixPath, groups]);\n\n  return (\n    <div style={{overflow: 'hidden'}}>\n      <Container ref={parentRef}>\n        <VirtualizedAssetCatalogHeader headerCheckbox={headerCheckbox} view={view} />\n        <Inner $totalHeight={totalHeight}>\n          {items.map(({index, key, size, start}) => {\n            const row: Row = rows[index]!;\n            const rowType = () => {\n              if (row.type === 'folder') {\n                return 'folder';\n              }\n              return row.asset.definition ? 'asset' : 'asset_non_sda';\n            };\n\n            const repoAddress = () => {\n              if (row.type === 'folder' || !row.asset.definition) {\n                return null;\n              }\n              const repository = row.asset.definition.repository;\n              return buildRepoAddress(repository.name, repository.location.name);\n            };\n\n            const wipeableAssets = row.type === 'folder' ? row.assets : [row.asset];\n\n            return (\n              <VirtualizedAssetRow\n                key={key}\n                view={view}\n                type={rowType()}\n                path={row.path}\n                definition={row.type === 'asset' ? row.asset.definition : null}\n                repoAddress={repoAddress()}\n                showCheckboxColumn\n                showRepoColumn={showRepoColumn}\n                height={size}\n                start={start}\n                checked={checkedDisplayKeys.has(row.displayKey)}\n                onToggleChecked={onToggleFactory(row.displayKey)}\n                onWipe={() => onWipe(wipeableAssets.map((a) => a.key))}\n              />\n            );\n          })}\n        </Inner>\n      </Container>\n    </div>\n  );\n};\n","import {RefetchQueriesFunction} from '@apollo/client';\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Colors,\n  Icon,\n  Menu,\n  MenuItem,\n  NonIdealState,\n  Popover,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport groupBy from 'lodash/groupBy';\nimport * as React from 'react';\n\nimport {AssetWipeDialog} from './AssetWipeDialog';\nimport {LaunchAssetExecutionButton} from './LaunchAssetExecutionButton';\nimport {AssetTableFragment} from './types/AssetTableFragment.types';\nimport {AssetViewType} from './useAssetView';\nimport {useUnscopedPermissions} from '../app/Permissions';\nimport {QueryRefreshCountdown, QueryRefreshState} from '../app/QueryRefresh';\nimport {AssetGroupSelector, AssetKeyInput} from '../graphql/types';\nimport {useSelectionReducer} from '../hooks/useSelectionReducer';\nimport {testId} from '../testing/testId';\nimport {VirtualizedAssetTable} from '../workspace/VirtualizedAssetTable';\n\ntype Asset = AssetTableFragment;\n\ninterface Props {\n  view: AssetViewType;\n  assets: Asset[];\n  refreshState: QueryRefreshState;\n  actionBarComponents: React.ReactNode;\n  prefixPath: string[];\n  displayPathForAsset: (asset: Asset) => string[];\n  requery?: RefetchQueriesFunction;\n  searchPath: string;\n  searchGroups: AssetGroupSelector[];\n}\n\nexport const AssetTable = ({\n  assets,\n  actionBarComponents,\n  refreshState,\n  prefixPath,\n  displayPathForAsset,\n  requery,\n  searchPath,\n  searchGroups,\n  view,\n}: Props) => {\n  const [toWipe, setToWipe] = React.useState<AssetKeyInput[] | undefined>();\n\n  const groupedByDisplayKey = groupBy(assets, (a) => JSON.stringify(displayPathForAsset(a)));\n  const displayKeys = Object.keys(groupedByDisplayKey).sort();\n\n  const [{checkedIds: checkedDisplayKeys}, {onToggleFactory, onToggleAll}] =\n    useSelectionReducer(displayKeys);\n\n  const checkedAssets: Asset[] = [];\n  displayKeys.forEach((displayKey) => {\n    if (checkedDisplayKeys.has(displayKey)) {\n      checkedAssets.push(...(groupedByDisplayKey[displayKey] || []));\n    }\n  });\n\n  const content = () => {\n    if (!assets.length) {\n      if (searchPath) {\n        return (\n          <Box padding={{top: 64}}>\n            <NonIdealState\n              icon=\"search\"\n              title=\"No matching assets\"\n              description={\n                searchGroups.length ? (\n                  <div>\n                    No assets matching <strong>{searchPath}</strong> were found in{' '}\n                    {searchGroups.length === 1 ? (\n                      <strong>{searchGroups[0]?.groupName}</strong>\n                    ) : (\n                      'the selected asset groups'\n                    )}\n                  </div>\n                ) : (\n                  <div>\n                    No assets matching <strong>{searchPath}</strong> were found\n                  </div>\n                )\n              }\n            />\n          </Box>\n        );\n      }\n\n      return (\n        <Box padding={{top: 20}}>\n          <NonIdealState\n            icon=\"search\"\n            title=\"No assets\"\n            description={\n              searchGroups.length ? (\n                <div>\n                  No assets were found in{' '}\n                  {searchGroups.length === 1 ? (\n                    <strong>{searchGroups[0]?.groupName}</strong>\n                  ) : (\n                    'the selected asset groups'\n                  )}\n                </div>\n              ) : (\n                'No assets were found'\n              )\n            }\n          />\n        </Box>\n      );\n    }\n\n    return (\n      <VirtualizedAssetTable\n        headerCheckbox={\n          <Checkbox\n            indeterminate={\n              checkedDisplayKeys.size > 0 && checkedDisplayKeys.size !== displayKeys.length\n            }\n            checked={checkedDisplayKeys.size > 0 && checkedDisplayKeys.size === displayKeys.length}\n            onChange={(e) => {\n              if (e.target instanceof HTMLInputElement) {\n                onToggleAll(checkedDisplayKeys.size !== displayKeys.length);\n              }\n            }}\n          />\n        }\n        prefixPath={prefixPath}\n        groups={groupedByDisplayKey}\n        checkedDisplayKeys={checkedDisplayKeys}\n        onToggleFactory={onToggleFactory}\n        showRepoColumn\n        view={view}\n        onWipe={(assetKeys: AssetKeyInput[]) => setToWipe(assetKeys)}\n      />\n    );\n  };\n\n  return (\n    <>\n      <Box flex={{direction: 'column'}} style={{height: '100%', overflow: 'hidden'}}>\n        <Box\n          background={Colors.backgroundDefault()}\n          flex={{alignItems: 'center', gap: 12}}\n          padding={{vertical: 8, left: 24, right: 12}}\n          style={{position: 'sticky', top: 0, zIndex: 1}}\n        >\n          {actionBarComponents}\n          <div style={{flex: 1}} />\n          <QueryRefreshCountdown refreshState={refreshState} />\n          <Box flex={{alignItems: 'center', gap: 8}}>\n            {checkedAssets.some((c) => !c.definition) ? (\n              <Tooltip content=\"One or more selected assets are not software-defined and cannot be launched directly.\">\n                <Button\n                  intent=\"primary\"\n                  data-testid={testId('materialize-button')}\n                  icon={<Icon name=\"materialization\" />}\n                  disabled\n                >\n                  {checkedAssets.length > 1\n                    ? `Materialize (${checkedAssets.length.toLocaleString()})`\n                    : 'Materialize'}\n                </Button>\n              </Tooltip>\n            ) : (\n              <LaunchAssetExecutionButton\n                scope={{selected: checkedAssets.map((a) => ({...a.definition!, assetKey: a.key}))}}\n              />\n            )}\n            <MoreActionsDropdown\n              selected={checkedAssets}\n              clearSelection={() => onToggleAll(false)}\n            />\n          </Box>\n        </Box>\n        {content()}\n      </Box>\n      <AssetWipeDialog\n        assetKeys={toWipe || []}\n        isOpen={!!toWipe}\n        onClose={() => setToWipe(undefined)}\n        onComplete={() => setToWipe(undefined)}\n        requery={requery}\n      />\n    </>\n  );\n};\n\ninterface MoreActionsDropdownProps {\n  selected: Asset[];\n  clearSelection: () => void;\n  requery?: RefetchQueriesFunction;\n}\n\nconst MoreActionsDropdown = React.memo((props: MoreActionsDropdownProps) => {\n  const {selected, clearSelection, requery} = props;\n  const [showBulkWipeDialog, setShowBulkWipeDialog] = React.useState<boolean>(false);\n  const {\n    permissions: {canWipeAssets},\n  } = useUnscopedPermissions();\n\n  if (!canWipeAssets) {\n    return null;\n  }\n\n  const disabled = selected.length === 0;\n\n  return (\n    <>\n      <Popover\n        position=\"bottom-right\"\n        content={\n          <Menu>\n            <MenuItem\n              text=\"Wipe materializations\"\n              onClick={() => setShowBulkWipeDialog(true)}\n              icon={\n                <Icon name=\"delete\" color={disabled ? Colors.textDisabled() : Colors.accentRed()} />\n              }\n              disabled={disabled}\n              intent=\"danger\"\n            />\n          </Menu>\n        }\n      >\n        <Button icon={<Icon name=\"expand_more\" />} />\n      </Popover>\n      <AssetWipeDialog\n        assetKeys={selected.map((asset) => asset.key)}\n        isOpen={showBulkWipeDialog}\n        onClose={() => setShowBulkWipeDialog(false)}\n        onComplete={() => {\n          setShowBulkWipeDialog(false);\n          clearSelection();\n        }}\n        requery={requery}\n      />\n    </>\n  );\n});\n","import {NonIdealState} from '@dagster-io/ui-components';\n\nexport const AssetsEmptyState = ({prefixPath}: {prefixPath: string[]}) => (\n  <NonIdealState\n    icon=\"asset\"\n    title=\"Assets\"\n    description={\n      <p>\n        {prefixPath && prefixPath.length\n          ? `There are no matching materialized assets with the specified asset key. `\n          : `There are no known materialized assets. `}\n        Any asset keys that have been specified with an <code>AssetMaterialization</code> during a\n        pipeline run will appear here. See the{' '}\n        <a href=\"https://docs.dagster.io/_apidocs/ops#dagster.AssetMaterialization\">\n          AssetMaterialization documentation\n        </a>{' '}\n        for more information.\n      </p>\n    }\n  />\n);\n","import {useStateWithStorage} from '../hooks/useStateWithStorage';\n\nconst ASSET_VIEW_KEY = 'AssetViewPreference';\n\nexport type AssetViewType = 'flat' | 'directory';\n\nconst validateSavedAssetView = (storedValue: any) =>\n  storedValue === 'flat' || storedValue === 'directory' ? storedValue : 'flat';\n\nexport const useAssetView = () => {\n  return useStateWithStorage<AssetViewType>(ASSET_VIEW_KEY, validateSavedAssetView);\n};\n","import {QueryResult, gql, useQuery} from '@apollo/client';\nimport {Box, ButtonGroup, TextInput} from '@dagster-io/ui-components';\nimport isEqual from 'lodash/isEqual';\nimport * as React from 'react';\n\nimport {\n  AssetGroupSuggest,\n  buildAssetGroupSelector,\n  useAssetGroupSelectorsForAssets,\n} from './AssetGroupSuggest';\nimport {AssetTable} from './AssetTable';\nimport {ASSET_TABLE_DEFINITION_FRAGMENT, ASSET_TABLE_FRAGMENT} from './AssetTableFragment';\nimport {AssetsEmptyState} from './AssetsEmptyState';\nimport {AssetTableFragment} from './types/AssetTableFragment.types';\nimport {\n  AssetCatalogGroupTableNodeFragment,\n  AssetCatalogGroupTableQuery,\n  AssetCatalogGroupTableQueryVariables,\n  AssetCatalogTableQuery,\n  AssetCatalogTableQueryVariables,\n} from './types/AssetsCatalogTable.types';\nimport {useAssetSearch} from './useAssetSearch';\nimport {AssetViewType, useAssetView} from './useAssetView';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {PythonErrorFragment} from '../app/types/PythonErrorFragment.types';\nimport {AssetGroupSelector} from '../graphql/types';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {PageLoadTrace} from '../performance';\nimport {LoadingSpinner} from '../ui/Loading';\n\ntype Asset = AssetTableFragment;\n\nfunction useAllAssets(groupSelector?: AssetGroupSelector): {\n  query: QueryResult<AssetCatalogTableQuery, any> | QueryResult<AssetCatalogGroupTableQuery, any>;\n  assets: Asset[] | undefined;\n  error: PythonErrorFragment | undefined;\n} {\n  const assetsQuery = useQuery<AssetCatalogTableQuery, AssetCatalogTableQueryVariables>(\n    ASSET_CATALOG_TABLE_QUERY,\n    {\n      skip: !!groupSelector,\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n  const groupQuery = useQuery<AssetCatalogGroupTableQuery, AssetCatalogGroupTableQueryVariables>(\n    ASSET_CATALOG_GROUP_TABLE_QUERY,\n    {\n      skip: !groupSelector,\n      variables: {group: groupSelector},\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n\n  return React.useMemo(() => {\n    if (groupSelector) {\n      const assetNodes = groupQuery.data?.assetNodes;\n      return {\n        query: groupQuery,\n        error: undefined,\n        assets: assetNodes?.map(definitionToAssetTableFragment),\n      };\n    }\n\n    const assetsOrError = assetsQuery.data?.assetsOrError;\n    return {\n      query: assetsQuery,\n      error: assetsOrError?.__typename === 'PythonError' ? assetsOrError : undefined,\n      assets: assetsOrError?.__typename === 'AssetConnection' ? assetsOrError.nodes : undefined,\n    };\n  }, [assetsQuery, groupQuery, groupSelector]);\n}\n\ninterface AssetCatalogTableProps {\n  prefixPath: string[];\n  setPrefixPath: (prefixPath: string[]) => void;\n  groupSelector?: AssetGroupSelector;\n  trace?: PageLoadTrace;\n}\n\nexport const AssetsCatalogTable = ({\n  prefixPath,\n  setPrefixPath,\n  groupSelector,\n  trace,\n}: AssetCatalogTableProps) => {\n  const [view, setView] = useAssetView();\n  const [search, setSearch] = useQueryPersistedState<string | undefined>({queryKey: 'q'});\n  const [searchGroups, setSearchGroups] = useQueryPersistedState<AssetGroupSelector[]>({\n    queryKey: 'g',\n    decode: (qs) => (qs.groups ? JSON.parse(qs.groups) : []),\n    encode: (groups) => ({groups: groups.length ? JSON.stringify(groups) : undefined}),\n  });\n\n  const searchPath = (search || '')\n    .replace(/(( ?> ?)|\\.|\\/)/g, '/')\n    .toLowerCase()\n    .trim();\n\n  const {assets, query, error} = useAllAssets(groupSelector);\n  const assetGroupOptions = useAssetGroupSelectorsForAssets(assets);\n  const pathMatches = useAssetSearch(searchPath, assets || []);\n\n  const filtered = React.useMemo(\n    () =>\n      pathMatches.filter(\n        (a) =>\n          !searchGroups.length || searchGroups.some((g) => isEqual(buildAssetGroupSelector(a), g)),\n      ),\n    [pathMatches, searchGroups],\n  );\n\n  const {displayPathForAsset, displayed} =\n    view === 'flat'\n      ? buildFlatProps(filtered, prefixPath)\n      : buildNamespaceProps(filtered, prefixPath);\n\n  const refreshState = useQueryRefreshAtInterval(query, FIFTEEN_SECONDS);\n\n  const loaded = !!assets;\n  React.useEffect(() => {\n    if (loaded) {\n      trace?.endTrace();\n    }\n  }, [loaded, trace]);\n\n  React.useEffect(() => {\n    if (view !== 'directory' && prefixPath.length) {\n      setView('directory');\n    }\n  }, [view, setView, prefixPath]);\n\n  if (error) {\n    return <PythonErrorInfo error={error} />;\n  }\n\n  if (!assets) {\n    return <LoadingSpinner purpose=\"page\" />;\n  }\n\n  if (!assets.length) {\n    return (\n      <Box padding={{vertical: 64}}>\n        <AssetsEmptyState prefixPath={prefixPath} />\n      </Box>\n    );\n  }\n\n  return (\n    <AssetTable\n      view={view}\n      assets={displayed}\n      actionBarComponents={\n        <>\n          <ButtonGroup<AssetViewType>\n            activeItems={new Set([view])}\n            buttons={[\n              {id: 'flat', icon: 'view_list', tooltip: 'List view'},\n              {id: 'directory', icon: 'folder', tooltip: 'Folder view'},\n            ]}\n            onClick={(view) => {\n              setView(view);\n              if (view === 'flat' && prefixPath.length) {\n                setPrefixPath([]);\n              }\n            }}\n          />\n          <TextInput\n            value={search || ''}\n            style={{width: '30vw', minWidth: 150, maxWidth: 400}}\n            placeholder={\n              prefixPath.length\n                ? `Filter asset keys in ${prefixPath.join('/')}â€¦`\n                : `Filter asset keysâ€¦`\n            }\n            onChange={(e: React.ChangeEvent<any>) => setSearch(e.target.value)}\n          />\n          {!groupSelector ? (\n            <AssetGroupSuggest\n              assetGroups={assetGroupOptions}\n              value={searchGroups}\n              onChange={setSearchGroups}\n            />\n          ) : undefined}\n        </>\n      }\n      refreshState={refreshState}\n      prefixPath={prefixPath || []}\n      searchPath={searchPath}\n      searchGroups={searchGroups}\n      displayPathForAsset={displayPathForAsset}\n      requery={(_) => [{query: ASSET_CATALOG_TABLE_QUERY}]}\n    />\n  );\n};\n\nexport const ASSET_CATALOG_TABLE_QUERY = gql`\n  query AssetCatalogTableQuery {\n    assetsOrError {\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${ASSET_TABLE_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nexport const ASSET_CATALOG_GROUP_TABLE_QUERY = gql`\n  query AssetCatalogGroupTableQuery($group: AssetGroupSelector) {\n    assetNodes(group: $group) {\n      id\n      ...AssetCatalogGroupTableNode\n    }\n  }\n\n  fragment AssetCatalogGroupTableNode on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    ...AssetTableDefinitionFragment\n  }\n\n  ${ASSET_TABLE_DEFINITION_FRAGMENT}\n`;\n\n// When we load the AssetCatalogTable for a particular asset group, we retrieve `assetNodes`,\n// not `assets`. To narrow the scope of this difference we coerce the nodes to look like\n// AssetCatalogTableQuery results.\nfunction definitionToAssetTableFragment(definition: AssetCatalogGroupTableNodeFragment): Asset {\n  return {__typename: 'Asset', id: definition.id, key: definition.assetKey, definition};\n}\n\nfunction buildFlatProps(assets: Asset[], _: string[]) {\n  return {\n    displayed: assets,\n    displayPathForAsset: (asset: Asset) => asset.key.path,\n  };\n}\n\nfunction buildNamespaceProps(assets: Asset[], prefixPath: string[]) {\n  // Return all assets from the next PAGE_SIZE namespaces - the AssetTable component will later\n  // group them by namespace\n\n  const namespaceForAsset = (asset: Asset) => {\n    return asset.key.path.slice(prefixPath.length, prefixPath.length + 1);\n  };\n\n  // Only consider assets that start with the prefix path\n  const assetsWithPathPrefix = assets.filter((asset) =>\n    asset.key.path.join(',').startsWith(prefixPath.join(',')),\n  );\n\n  const namespaces = Array.from(\n    new Set(assetsWithPathPrefix.map((asset) => JSON.stringify(namespaceForAsset(asset)))),\n  )\n    .map((x) => JSON.parse(x))\n    .sort();\n\n  return {\n    displayPathForAsset: namespaceForAsset,\n    displayed: filterAssetsByNamespace(\n      assetsWithPathPrefix,\n      namespaces.map((ns) => [...prefixPath, ...ns]),\n    ),\n  };\n}\n\nconst filterAssetsByNamespace = (assets: Asset[], paths: string[][]) => {\n  return assets.filter((asset) =>\n    paths.some((path) => path.every((part, i) => part === asset.key.path[i])),\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\n\nimport {\n  AutoMaterializeSensorFlagQuery,\n  AutoMaterializeSensorFlagQueryVariables,\n} from './types/AutoMaterializeSensorFlag.types';\n\ntype FlagState = 'unknown' | 'has-sensor-amp' | 'has-global-amp';\n\nexport const useAutoMaterializeSensorFlag = (): FlagState => {\n  const {data} = useQuery<AutoMaterializeSensorFlagQuery, AutoMaterializeSensorFlagQueryVariables>(\n    AUTO_MATERIALIZE_POLICY_SENSOR_FLAG,\n  );\n  if (!data) {\n    return 'unknown';\n  }\n  return data?.instance.useAutoMaterializeSensors ? 'has-sensor-amp' : 'has-global-amp';\n};\n\nconst AUTO_MATERIALIZE_POLICY_SENSOR_FLAG = gql`\n  query AutoMaterializeSensorFlag {\n    instance {\n      id\n      useAutoMaterializeSensors\n    }\n  }\n`;\n","import {useMemo} from 'react';\n\nimport {tokenForAssetKey} from '../asset-graph/Utils';\n\nconst useSanitizedAssetSearch = (searchValue: string) => {\n  return useMemo(() => {\n    return (searchValue || '')\n      .replace(/(( ?> ?)|\\.|\\/)/g, '/')\n      .toLowerCase()\n      .trim();\n  }, [searchValue]);\n};\n\nexport const useAssetSearch = <A extends {key: {path: string[]}}>(\n  searchValue: string,\n  assets: A[],\n): A[] => {\n  const sanitizedSearch = useSanitizedAssetSearch(searchValue);\n  return useMemo(() => {\n    // If there is no search value, match everything.\n    if (!sanitizedSearch) {\n      return assets;\n    }\n    return assets.filter((a) => tokenForAssetKey(a.key).toLowerCase().includes(sanitizedSearch));\n  }, [assets, sanitizedSearch]);\n};\n\nexport const useAssetNodeSearch = <A extends {assetKey: {path: string[]}}>(\n  searchValue: string,\n  assetNodes: A[],\n): A[] => {\n  const sanitizedSearch = useSanitizedAssetSearch(searchValue);\n\n  return useMemo(() => {\n    // If there is no search value, match everything.\n    if (!sanitizedSearch) {\n      return assetNodes;\n    }\n    return assetNodes.filter((a) =>\n      tokenForAssetKey(a.assetKey).toLowerCase().includes(sanitizedSearch),\n    );\n  }, [assetNodes, sanitizedSearch]);\n};\n","import {\n  Box,\n  Colors,\n  Icon,\n  IconWrapper,\n  MiddleTruncate,\n  Spinner,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {\n  NO_RELOAD_PERMISSION_TEXT,\n  ReloadRepositoryLocationButton,\n} from './ReloadRepositoryLocationButton';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nexport const RepositoryLink = ({\n  repoAddress,\n  showIcon = false,\n  showRefresh = true,\n}: {\n  repoAddress: RepoAddress;\n  showIcon?: boolean;\n  showRefresh?: boolean;\n}) => {\n  const {location} = repoAddress;\n  const repoString = repoAddressAsHumanString(repoAddress);\n\n  return (\n    <Box flex={{display: 'inline-flex', direction: 'row', alignItems: 'center'}} title={repoString}>\n      {showIcon && <Icon name=\"folder\" style={{marginRight: 8}} color={Colors.accentGray()} />}\n      <RepositoryName to={workspacePathFromAddress(repoAddress)} style={{flex: 1}}>\n        <MiddleTruncate text={repoString} />\n      </RepositoryName>\n      {showRefresh ? (\n        <ReloadRepositoryLocationButton\n          location={location}\n          ChildComponent={({codeLocation, tryReload, reloading, hasReloadPermission}) => {\n            const tooltipContent = () => {\n              if (!hasReloadPermission) {\n                return NO_RELOAD_PERMISSION_TEXT;\n              }\n\n              return reloading ? (\n                'Reloadingâ€¦'\n              ) : (\n                <>\n                  Reload location <strong>{codeLocation}</strong>\n                </>\n              );\n            };\n\n            return (\n              <ReloadTooltip content={tooltipContent()}>\n                {reloading ? (\n                  <Spinner purpose=\"body-text\" />\n                ) : (\n                  <StyledButton disabled={!hasReloadPermission} onClick={tryReload}>\n                    <Icon\n                      name=\"refresh\"\n                      color={hasReloadPermission ? Colors.accentGray() : Colors.accentGrayHover()}\n                    />\n                  </StyledButton>\n                )}\n              </ReloadTooltip>\n            );\n          }}\n        />\n      ) : null}\n    </Box>\n  );\n};\n\nexport const RepositoryName = styled(Link)`\n  max-width: 280px;\n`;\n\nconst ReloadTooltip = styled(Tooltip)`\n  margin-left: 4px;\n\n  && {\n    display: block;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: block;\n  padding: 0;\n  margin: 0;\n\n  :disabled {\n    cursor: default;\n  }\n\n  :focus:not(:focus-visible) {\n    outline: none;\n  }\n\n  & ${IconWrapper} {\n    display: block;\n    transition: color 100ms linear;\n  }\n\n  :hover ${IconWrapper} {\n    color: ${Colors.accentBlue()};\n  }\n`;\n","import {\n  Box,\n  ButtonLink,\n  Colors,\n  FontFamily,\n  MiddleTruncate,\n  Tag,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport {useState} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {ScheduleAndSensorDialog} from './ScheduleAndSensorDialog';\nimport {ScheduleSwitch} from '../schedules/ScheduleSwitch';\nimport {humanCronString} from '../schedules/humanCronString';\nimport {ScheduleSwitchFragment} from '../schedules/types/ScheduleSwitch.types';\nimport {SensorSwitch} from '../sensors/SensorSwitch';\nimport {SensorSwitchFragment} from '../sensors/types/SensorSwitch.types';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nexport const ScheduleOrSensorTag = ({\n  repoAddress,\n  schedules = [],\n  sensors = [],\n  showSwitch = true,\n}: {\n  repoAddress: RepoAddress;\n  schedules?: ScheduleSwitchFragment[];\n  sensors?: SensorSwitchFragment[];\n  showSwitch?: boolean;\n}) => {\n  const [open, setOpen] = useState(false);\n\n  const scheduleCount = schedules.length;\n  const sensorCount = sensors.length;\n\n  if (scheduleCount > 1 || sensorCount > 1 || (scheduleCount && sensorCount)) {\n    const buttonText =\n      scheduleCount && sensorCount\n        ? `${scheduleCount + sensorCount} schedules/sensors`\n        : scheduleCount\n        ? `${scheduleCount} schedules`\n        : `${sensorCount} sensors`;\n\n    const icon = scheduleCount > 1 ? 'schedule' : 'sensors';\n\n    return (\n      <>\n        <Tag icon={icon}>\n          <ButtonLink onClick={() => setOpen(true)} color={Colors.linkDefault()}>\n            {buttonText}\n          </ButtonLink>\n        </Tag>\n        <ScheduleAndSensorDialog\n          isOpen={open}\n          onClose={() => setOpen(false)}\n          repoAddress={repoAddress}\n          schedules={schedules}\n          sensors={sensors}\n          showSwitch={showSwitch}\n        />\n      </>\n    );\n  }\n\n  if (scheduleCount) {\n    return (\n      <MatchingSchedule\n        schedule={schedules[0]!}\n        repoAddress={repoAddress}\n        showSwitch={showSwitch}\n      />\n    );\n  }\n\n  if (sensorCount) {\n    return (\n      <MatchingSensor sensor={sensors[0]!} repoAddress={repoAddress} showSwitch={showSwitch} />\n    );\n  }\n\n  return <div style={{display: 'none'}}>No schedules or sensors</div>;\n};\n\nconst MatchingSchedule = ({\n  schedule,\n  repoAddress,\n  showSwitch,\n}: {\n  schedule: ScheduleSwitchFragment;\n  repoAddress: RepoAddress;\n  showSwitch: boolean;\n}) => {\n  const {cronSchedule, executionTimezone, scheduleState} = schedule;\n  const running = scheduleState.status === 'RUNNING';\n  const tag = (\n    <Tag intent={running ? 'primary' : 'none'} icon=\"schedule\">\n      <Box flex={{direction: 'row', alignItems: 'center', gap: 4}}>\n        <Link\n          to={workspacePathFromAddress(repoAddress, `/schedules/${schedule.name}`)}\n          style={{overflow: 'hidden', textOverflow: 'ellipsis'}}\n        >\n          {humanCronString(cronSchedule, executionTimezone || 'UTC')}\n        </Link>\n        {showSwitch ? (\n          <ScheduleSwitch size=\"small\" repoAddress={repoAddress} schedule={schedule} />\n        ) : null}\n      </Box>\n    </Tag>\n  );\n\n  return schedule.cronSchedule ? (\n    <Tooltip\n      placement=\"top-start\"\n      content={\n        <Box flex={{direction: 'column', gap: 4}}>\n          <div>\n            Name: <strong>{schedule.name}</strong>\n          </div>\n          <div>\n            Cron:{' '}\n            <span style={{fontFamily: FontFamily.monospace, marginLeft: '4px'}}>\n              ({schedule.cronSchedule})\n            </span>\n          </div>\n          <div>\n            Timezone: <strong>{schedule.executionTimezone || 'UTC'}</strong>\n          </div>\n        </Box>\n      }\n    >\n      {tag}\n    </Tooltip>\n  ) : (\n    tag\n  );\n};\n\nconst MatchingSensor = ({\n  sensor,\n  repoAddress,\n  showSwitch,\n}: {\n  sensor: SensorSwitchFragment;\n  repoAddress: RepoAddress;\n  showSwitch: boolean;\n}) => {\n  const running = sensor.sensorState.status === 'RUNNING';\n  return (\n    <Tag intent={running ? 'primary' : 'none'} icon=\"sensors\">\n      <Box flex={{direction: 'row', alignItems: 'center', gap: 4}}>\n        <Link\n          to={workspacePathFromAddress(repoAddress, `/sensors/${sensor.name}`)}\n          style={{maxWidth: 200, overflow: 'hidden'}}\n        >\n          <MiddleTruncate text={sensor.name} />\n        </Link>\n        {showSwitch ? (\n          <SensorSwitch size=\"small\" repoAddress={repoAddress} sensor={sensor} />\n        ) : null}\n      </Box>\n    </Tag>\n  );\n};\n","import {useQuery} from '@apollo/client';\nimport {CursorPaginationProps} from '@dagster-io/ui-components';\nimport {DocumentNode} from 'graphql';\nimport {useState} from 'react';\n\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\n\ninterface CursorPaginationQueryVariables {\n  cursor?: string | null;\n  limit?: number | null;\n}\n\n/**\n * This is a React hook that makes it easier to build paginated list views based on a GraphQL\n * query. It is intended to be used in place of Apollo's `useQuery` and assumes that the query\n * takes at least `cursor` and `limit` variables. It manages those two variables internally,\n * and you can pass additional variables via the options.\n *\n * The current pagination \"cursor\" is saved to the URL query string, which allows the user to\n * navigate \"back\" in their browser history to move to previous pages.\n *\n * The returned paginationProps expose methods for moving to the next / previous page and are\n * used by <CursorPaginationControls /> to render the pagination buttons.\n */\nexport function useCursorPaginatedQuery<T, TVars extends CursorPaginationQueryVariables>(options: {\n  query: DocumentNode;\n  nextCursorForResult: (result: T) => string | undefined;\n  skip?: boolean;\n  variables: Omit<TVars, 'cursor' | 'limit'>;\n  pageSize: number;\n  getResultArray: (result: T | undefined) => any[];\n}) {\n  const [cursorStack, setCursorStack] = useState<string[]>(() => []);\n  const [cursor, setCursor] = useQueryPersistedState<string | undefined>({queryKey: 'cursor'});\n\n  const queryVars: any = {\n    ...options.variables,\n    cursor,\n    limit: options.pageSize + 1,\n  };\n\n  const queryResult = useQuery<T, TVars>(options.query, {\n    skip: options.skip,\n    variables: queryVars,\n    notifyOnNetworkStatusChange: true,\n  });\n\n  const resultArray = options.getResultArray(queryResult.data);\n  const paginationProps: CursorPaginationProps = {\n    hasPrevCursor: !!cursor,\n    hasNextCursor: resultArray.length === options.pageSize + 1,\n    popCursor: () => {\n      const nextStack = [...cursorStack];\n      setCursor(nextStack.pop());\n      setCursorStack(nextStack);\n    },\n    advanceCursor: () => {\n      if (cursor) {\n        setCursorStack((current) => [...current, cursor]);\n      }\n      const nextCursor = queryResult.data && options.nextCursorForResult(queryResult.data);\n      if (!nextCursor) {\n        return;\n      }\n      setCursor(nextCursor);\n    },\n    reset: () => {\n      setCursorStack([]);\n      setCursor(undefined);\n    },\n  };\n\n  return {queryResult, paginationProps};\n}\n","import {Button, Icon, Menu, MenuItem, Popover, Spinner, Tooltip} from '@dagster-io/ui-components';\n\nimport {\n  executionDisabledMessageForAssets,\n  useMaterializationAction,\n} from './LaunchAssetExecutionButton';\nimport {assetDetailsPathForKey} from './assetDetailsPathForKey';\nimport {AssetTableDefinitionFragment} from './types/AssetTableFragment.types';\nimport {usePermissionsForLocation} from '../app/Permissions';\nimport {AssetKeyInput} from '../graphql/types';\nimport {MenuLink} from '../ui/MenuLink';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\ninterface Props {\n  path: string[];\n  definition: AssetTableDefinitionFragment | null;\n  repoAddress: RepoAddress | null;\n  onWipe?: (assets: AssetKeyInput[]) => void;\n}\n\nexport const AssetActionMenu = (props: Props) => {\n  const {repoAddress, path, definition, onWipe} = props;\n  const {\n    permissions: {canWipeAssets},\n  } = usePermissionsForLocation(repoAddress?.location);\n\n  const {onClick, loading, launchpadElement} = useMaterializationAction();\n  const disabledMessage = definition\n    ? executionDisabledMessageForAssets([definition])\n    : 'Asset definition not found in a code location';\n\n  return (\n    <>\n      <Popover\n        position=\"bottom-right\"\n        content={\n          <Menu>\n            <Tooltip\n              content={disabledMessage || 'Shift+click to add configuration'}\n              placement=\"left\"\n              display=\"block\"\n              useDisabledButtonTooltipFix\n            >\n              <MenuItem\n                text=\"Materialize\"\n                icon={loading ? <Spinner purpose=\"body-text\" /> : 'materialization'}\n                disabled={!!disabledMessage || loading}\n                onClick={(e) => onClick([{path}], e)}\n              />\n            </Tooltip>\n            <MenuLink\n              text=\"Show in group\"\n              to={\n                repoAddress && definition?.groupName\n                  ? workspacePathFromAddress(repoAddress, `/asset-groups/${definition.groupName}`)\n                  : ''\n              }\n              disabled={!definition}\n              icon=\"asset_group\"\n            />\n            <MenuLink\n              text=\"View neighbors\"\n              to={assetDetailsPathForKey({path}, {view: 'lineage', lineageScope: 'neighbors'})}\n              disabled={!definition}\n              icon=\"graph_neighbors\"\n            />\n            <MenuLink\n              text=\"View upstream assets\"\n              to={assetDetailsPathForKey({path}, {view: 'lineage', lineageScope: 'upstream'})}\n              disabled={!definition}\n              icon=\"graph_upstream\"\n            />\n            <MenuLink\n              text=\"View downstream assets\"\n              to={assetDetailsPathForKey({path}, {view: 'lineage', lineageScope: 'downstream'})}\n              disabled={!definition}\n              icon=\"graph_downstream\"\n            />\n            <MenuItem\n              text=\"Wipe materializations\"\n              icon=\"delete\"\n              disabled={!onWipe || !canWipeAssets}\n              intent=\"danger\"\n              onClick={() => canWipeAssets && onWipe && onWipe([{path}])}\n            />\n          </Menu>\n        }\n      >\n        <Button icon={<Icon name=\"expand_more\" />} />\n      </Popover>\n      {launchpadElement}\n    </>\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {Box, Caption, Checkbox, Colors, Icon} from '@dagster-io/ui-components';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {RepoAddress} from './types';\nimport {\n  SingleNonSdaAssetQuery,\n  SingleNonSdaAssetQueryVariables,\n} from './types/VirtualizedAssetRow.types';\nimport {workspacePathFromAddress} from './workspacePath';\nimport {useAssetsLiveData} from '../asset-data/AssetLiveDataProvider';\nimport {buildAssetNodeStatusContent} from '../asset-graph/AssetNodeStatusContent';\nimport {AssetRunLink} from '../asset-graph/AssetRunLinking';\nimport {MISSING_LIVE_DATA, tokenForAssetKey} from '../asset-graph/Utils';\nimport {AssetActionMenu} from '../assets/AssetActionMenu';\nimport {AssetLink} from '../assets/AssetLink';\nimport {PartitionCountLabels, partitionCountString} from '../assets/AssetNodePartitionCounts';\nimport {StaleReasonsLabel} from '../assets/Stale';\nimport {assetDetailsPathForKey} from '../assets/assetDetailsPathForKey';\nimport {AssetTableDefinitionFragment} from '../assets/types/AssetTableFragment.types';\nimport {AssetViewType} from '../assets/useAssetView';\nimport {AssetComputeKindTag} from '../graph/OpTags';\nimport {AssetKeyInput} from '../graphql/types';\nimport {RepositoryLink} from '../nav/RepositoryLink';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {testId} from '../testing/testId';\nimport {HeaderCell, Row, RowCell} from '../ui/VirtualizedTable';\n\nconst TEMPLATE_COLUMNS = '1.3fr 1fr 80px';\nconst TEMPLATE_COLUMNS_FOR_CATALOG = '76px 1.3fr 1.3fr 1.3fr 80px';\n\ninterface AssetRowProps {\n  path: string[];\n  definition: AssetTableDefinitionFragment | null;\n\n  checked: boolean;\n  type: 'folder' | 'asset' | 'asset_non_sda';\n  view?: AssetViewType;\n  onToggleChecked: (values: {checked: boolean; shiftKey: boolean}) => void;\n  showCheckboxColumn: boolean;\n  showRepoColumn: boolean;\n  repoAddress: RepoAddress | null;\n  height: number;\n  start: number;\n  onWipe: (assets: AssetKeyInput[]) => void;\n}\n\nexport const VirtualizedAssetRow = (props: AssetRowProps) => {\n  const {\n    path,\n    definition,\n    type,\n    repoAddress,\n    start,\n    height,\n    checked,\n    onToggleChecked,\n    onWipe,\n    showCheckboxColumn = false,\n    showRepoColumn,\n    view = 'flat',\n  } = props;\n\n  const liveData = useLiveDataOrLatestMaterializationDebounced(path, type);\n  const linkUrl = assetDetailsPathForKey({path});\n\n  const onChange = (e: React.FormEvent<HTMLInputElement>) => {\n    if (onToggleChecked && e.target instanceof HTMLInputElement) {\n      const {checked} = e.target;\n      const shiftKey =\n        e.nativeEvent instanceof MouseEvent && e.nativeEvent.getModifierState('Shift');\n      onToggleChecked({checked, shiftKey});\n    }\n  };\n\n  return (\n    <Row $height={height} $start={start} data-testid={testId(`row-${tokenForAssetKey({path})}`)}>\n      <RowGrid border=\"bottom\" $showRepoColumn={showRepoColumn}>\n        {showCheckboxColumn ? (\n          <RowCell>\n            <Checkbox checked={checked} onChange={onChange} />\n          </RowCell>\n        ) : null}\n        <RowCell>\n          <Box flex={{alignItems: 'center'}}>\n            <div style={{flex: 1, minWidth: 0}}>\n              <AssetLink\n                path={type === 'folder' || view === 'directory' ? path.slice(-1) : path}\n                url={linkUrl}\n                isGroup={type === 'folder'}\n                icon={type}\n                textStyle=\"middle-truncate\"\n              />\n            </div>\n            {definition && (\n              <AssetComputeKindTag\n                reduceColor\n                reduceText\n                definition={definition}\n                style={{position: 'relative'}}\n              />\n            )}\n          </Box>\n          <div\n            style={{\n              maxWidth: '100%',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n            }}\n          >\n            <Caption style={{color: Colors.textLight(), whiteSpace: 'nowrap'}}>\n              {definition?.description}\n            </Caption>\n          </div>\n        </RowCell>\n        {showRepoColumn ? (\n          <RowCell>\n            {repoAddress ? (\n              <Box\n                flex={{direction: 'column', gap: 4}}\n                style={{maxWidth: '100%', overflow: 'hidden'}}\n              >\n                <RepositoryLink repoAddress={repoAddress} showIcon showRefresh={false} />\n                {definition && definition.groupName ? (\n                  <Link\n                    to={workspacePathFromAddress(\n                      repoAddress,\n                      `/asset-groups/${definition.groupName}`,\n                    )}\n                  >\n                    <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n                      <Icon color={Colors.accentGray()} name=\"asset_group\" />\n                      {definition.groupName}\n                    </Box>\n                  </Link>\n                ) : null}\n              </Box>\n            ) : (\n              <span>{'\\u2013'}</span>\n            )}\n          </RowCell>\n        ) : null}\n        <RowCell>\n          {definition?.partitionDefinition ? (\n            <Box flex={{direction: 'column', alignItems: 'flex-start', gap: 4}}>\n              <PartitionCountLabels partitionStats={liveData?.partitionStats} />\n              <Caption>{partitionCountString(liveData?.partitionStats?.numPartitions)}</Caption>\n            </Box>\n          ) : (\n            <Box flex={{direction: 'column', alignItems: 'flex-start', gap: 4}}>\n              {definition ? (\n                <Box\n                  style={{whiteSpace: 'nowrap'}}\n                  flex={{direction: 'row', alignItems: 'center', gap: 8}}\n                >\n                  {\n                    buildAssetNodeStatusContent({\n                      assetKey: {path},\n                      definition,\n                      expanded: true,\n                      liveData,\n                    }).content\n                  }\n                </Box>\n              ) : liveData?.lastMaterialization ? (\n                <AssetRunLink\n                  assetKey={{path}}\n                  runId={liveData.lastMaterialization.runId}\n                  event={{\n                    stepKey: liveData.stepKey,\n                    timestamp: liveData.lastMaterialization.timestamp,\n                  }}\n                >\n                  <TimestampDisplay\n                    timestamp={Number(liveData.lastMaterialization.timestamp) / 1000}\n                    timeFormat={{showSeconds: false, showTimezone: false}}\n                  />\n                </AssetRunLink>\n              ) : (\n                <div style={{color: Colors.textLight()}}>\n                  {!liveData && type !== 'folder' ? 'Loading' : '\\u2013'}\n                </div>\n              )}\n              {liveData && (\n                <StaleReasonsLabel assetKey={{path}} liveData={liveData} include=\"all\" />\n              )}\n            </Box>\n          )}\n        </RowCell>\n        <RowCell>\n          {type !== 'folder' ? (\n            <AssetActionMenu\n              path={path}\n              definition={definition}\n              repoAddress={repoAddress}\n              onWipe={onWipe}\n            />\n          ) : null}\n        </RowCell>\n      </RowGrid>\n    </Row>\n  );\n};\n\nexport const VirtualizedAssetCatalogHeader = ({\n  headerCheckbox,\n  view,\n}: {\n  headerCheckbox: React.ReactNode;\n  view: AssetViewType;\n}) => {\n  return (\n    <Box\n      background={Colors.backgroundDefault()}\n      border=\"top-and-bottom\"\n      style={{\n        display: 'grid',\n        gridTemplateColumns: TEMPLATE_COLUMNS_FOR_CATALOG,\n        height: '32px',\n        fontSize: '12px',\n        color: Colors.textLight(),\n        position: 'sticky',\n        top: 0,\n        zIndex: 1,\n      }}\n    >\n      <HeaderCell>{headerCheckbox}</HeaderCell>\n      <HeaderCell>{view === 'flat' ? 'Asset name' : 'Asset key prefix'}</HeaderCell>\n      <HeaderCell>Code location / Asset group</HeaderCell>\n      <HeaderCell>Status</HeaderCell>\n      <HeaderCell></HeaderCell>\n    </Box>\n  );\n};\n\nexport const VirtualizedAssetHeader = ({nameLabel}: {nameLabel: React.ReactNode}) => {\n  return (\n    <Box\n      border=\"top-and-bottom\"\n      style={{\n        display: 'grid',\n        gridTemplateColumns: TEMPLATE_COLUMNS,\n        height: '32px',\n        fontSize: '12px',\n        color: Colors.textLight(),\n      }}\n    >\n      <HeaderCell>{nameLabel}</HeaderCell>\n      <HeaderCell>Status</HeaderCell>\n      <HeaderCell></HeaderCell>\n    </Box>\n  );\n};\n\nconst RowGrid = styled(Box)<{$showRepoColumn: boolean}>`\n  display: grid;\n  grid-template-columns: ${({$showRepoColumn}) =>\n    $showRepoColumn ? TEMPLATE_COLUMNS_FOR_CATALOG : TEMPLATE_COLUMNS};\n  height: 100%;\n`;\n\nconst LIVE_QUERY_DELAY = 250;\n\n/**\n * This hook maps through to `AssetLiveDataProvider` for the `asset` case and a per-row\n * query for the latest materialization for the `asset_non_sda` case.\n *\n * It uses internal state and `skip` to implement a debounce that prevents a ton of queries\n * as the user scans past rows. (The best way to skip the AssetLiveDataProvider work is\n * to pass it an empty array of asset keys.)\n */\nexport function useLiveDataOrLatestMaterializationDebounced(\n  path: string[],\n  type: 'folder' | 'asset' | 'asset_non_sda',\n) {\n  const [debouncedKeys, setDebouncedKeys] = React.useState<AssetKeyInput[]>([]);\n  const debouncedKey = (debouncedKeys[0] || '') as AssetKeyInput;\n\n  const {liveDataByNode} = useAssetsLiveData(type === 'asset' ? debouncedKeys : []);\n\n  const {data: nonSDAData} = useQuery<SingleNonSdaAssetQuery, SingleNonSdaAssetQueryVariables>(\n    SINGLE_NON_SDA_ASSET_QUERY,\n    {\n      skip: type !== 'asset_non_sda' || !debouncedKey,\n      variables: {input: debouncedKey},\n    },\n  );\n\n  React.useEffect(() => {\n    if (type === 'folder') {\n      return;\n    }\n    const timer = setTimeout(() => {\n      setDebouncedKeys(path ? [{path}] : []);\n    }, LIVE_QUERY_DELAY);\n    return () => clearTimeout(timer);\n  }, [type, path]);\n\n  if (type === 'asset') {\n    return liveDataByNode[tokenForAssetKey({path})]!;\n  }\n\n  if (type === 'asset_non_sda') {\n    return {\n      ...MISSING_LIVE_DATA,\n      lastMaterialization:\n        nonSDAData?.assetOrError.__typename === 'Asset' &&\n        nonSDAData.assetOrError.assetMaterializations[0]\n          ? nonSDAData.assetOrError.assetMaterializations[0]\n          : null,\n    };\n  }\n\n  return null;\n}\n\nexport const SINGLE_NON_SDA_ASSET_QUERY = gql`\n  query SingleNonSDAAssetQuery($input: AssetKeyInput!) {\n    assetOrError(assetKey: $input) {\n      ... on Asset {\n        id\n        assetMaterializations(limit: 1) {\n          runId\n          timestamp\n        }\n      }\n    }\n  }\n`;\n"],"names":["useAssetGroupSelectorsForAssets","assets","useMemo","uniqBy","map","buildAssetGroupSelector","filter","a","JSON","stringify","sort","b","groupName","localeCompare","FAKE_SELECTED_ITEM","repositoryLocationName","repositoryName","AssetGroupSuggest","param","assetGroups","value","onChange","repoKey","g","concat","repoKey1","repoContextNeeded","every","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","Suggest","selectedItem","length","items","menuWidth","inputProps","style","width","placeholder","rightElement","ClearButton","onClick","marginTop","marginRight","Icon","name","undefined","inputValueRenderer","itemPredicate","query","partition","toLowerCase","includes","itemsEqual","isEqual","itemRenderer","assetGroup","props","MenuItem","active","modifiers","handleClick","text","jsxs","Box","flex","direction","gap","alignItems","margin","left","maxWidth","Checkbox","checked","some","size","readOnly","grow","shrink","overflow","div","span","opacity","paddingLeft","buildRepoPathForHuman","noResults","disabled","closeOnSelect","resetOnQuery","onItemSelect","item","nextValue","push","definition","repository","location","ASSET_TABLE_DEFINITION_FRAGMENT","gql","ASSET_TABLE_FRAGMENT","AssetWipeDialog","assetKeys","isOpen","onClose","onComplete","requery","requestWipe","useMutation","ASSET_WIPE_MUTATION","variables","asAssetKeyInput","refetchQueries","wipe","_async_to_generator","_","_state","sent","jsx_runtime","Dialog","title","DialogBody","Group","spacing","ul","assetKey","displayNameForAssetKey","li","marginBottom","strong","DialogFooter","topBorder","Button","intent","PYTHON_ERROR_FRAGMENT","VirtualizedAssetTable","headerCheckbox","prefixPath","groups","checkedDisplayKeys","onToggleFactory","onWipe","showRepoColumn","view","_props_view","parentRef","React","count","Object","keys","rowVirtualizer","useVirtualizer","getScrollElement","current","estimateSize","overscan","totalHeight","getTotalSize","getVirtualItems","rows","entries","displayKey","path","_to_consumable_array","parse","isFolder","join","key","type","asset","Container","ref","VirtualizedAssetCatalogHeader","Inner","$totalHeight","index","start","row","wipeableAssets","VirtualizedAssetRow","repoAddress","buildRepoAddress","showCheckboxColumn","height","has","onToggleChecked","AssetTable","actionBarComponents","refreshState","displayPathForAsset","searchPath","searchGroups","toWipe","setToWipe","groupedByDisplayKey","groupBy","displayKeys","useSelectionReducer","checkedIds","onToggleAll","checkedAssets","forEach","Fragment","background","Colors","padding","vertical","right","position","top","zIndex","QueryRefreshCountdown","c","Tooltip","content","data-testid","testId","icon","toLocaleString","LaunchAssetExecutionButton","scope","selected","_object_spread_props","_object_spread","MoreActionsDropdown","clearSelection","NonIdealState","description","indeterminate","e","target","HTMLInputElement","showBulkWipeDialog","setShowBulkWipeDialog","useUnscopedPermissions","permissions","canWipeAssets","Popover","Menu","color","AssetsEmptyState","p","code","href","validateSavedAssetView","storedValue","AssetsCatalogTable","namespaceForAsset","assetsWithPathPrefix","namespaces","assetsQuery","groupQuery","setPrefixPath","groupSelector","trace","useAssetView","useStateWithStorage","setView","useQueryPersistedState","queryKey","search","setSearch","decode","qs","encode","setSearchGroups","replace","trim","useAllAssets","useQuery","ASSET_CATALOG_TABLE_QUERY","skip","notifyOnNetworkStatusChange","ASSET_CATALOG_GROUP_TABLE_QUERY","group","assetNodes","data","error","definitionToAssetTableFragment","assetsOrError","__typename","nodes","assetGroupOptions","pathMatches","useAssetSearch","filtered","displayed","slice","startsWith","Array","from","Set","x","filterAssetsByNamespace","ns","useQueryRefreshAtInterval","FIFTEEN_SECONDS","loaded","endTrace","PythonErrorInfo","ButtonGroup","activeItems","buttons","id","tooltip","TextInput","minWidth","LoadingSpinner","purpose","paths","part","i","useAutoMaterializeSensorFlag","AUTO_MATERIALIZE_POLICY_SENSOR_FLAG","instance","useAutoMaterializeSensors","useSanitizedAssetSearch","searchValue","sanitizedSearch","tokenForAssetKey","useAssetNodeSearch","RepositoryLink","showIcon","_param_showRefresh","showRefresh","repoString","repoAddressAsHumanString","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__","display","_param_showIcon","RepositoryName","to","workspacePathFromAddress","MiddleTruncate","ReloadRepositoryLocationButton","ChildComponent","codeLocation","tryReload","reloading","hasReloadPermission","ReloadTooltip","NO_RELOAD_PERMISSION_TEXT","Spinner","StyledButton","styled","Link","button","withConfig","IconWrapper","ScheduleOrSensorTag","schedules","_param_schedules","_param_sensors","sensors","_param_showSwitch","showSwitch","useState","open","setOpen","scheduleCount","sensorCount","Tag","ButtonLink","ScheduleAndSensorDialog","MatchingSchedule","schedule","MatchingSensor","sensor","cronSchedule","executionTimezone","running","scheduleState","status","tag","textOverflow","humanCronString","ScheduleSwitch","placement","fontFamily","FontFamily","monospace","marginLeft","sensorState","SensorSwitch","useCursorPaginatedQuery","options","cursorStack","setCursorStack","cursor","setCursor","queryVars","_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_3__","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_4__","limit","pageSize","queryResult","paginationProps","hasPrevCursor","hasNextCursor","resultArray","getResultArray","popCursor","nextStack","_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_6__","pop","advanceCursor","nextCursor","nextCursorForResult","reset","AssetActionMenu","usePermissionsForLocation","useMaterializationAction","loading","launchpadElement","disabledMessage","executionDisabledMessageForAssets","useDisabledButtonTooltipFix","MenuLink","assetDetailsPathForKey","lineageScope","TEMPLATE_COLUMNS","TEMPLATE_COLUMNS_FOR_CATALOG","debouncedKeys","setDebouncedKeys","debouncedKey","liveDataByNode","liveData","useAssetsLiveData","SINGLE_NON_SDA_ASSET_QUERY","input","timer","setTimeout","clearTimeout","MISSING_LIVE_DATA","lastMaterialization","nonSDAData","assetOrError","assetMaterializations","linkUrl","Row","$height","$start","RowGrid","border","$showRepoColumn","_props_showCheckboxColumn","RowCell","shiftKey","nativeEvent","MouseEvent","getModifierState","AssetLink","url","isGroup","textStyle","AssetComputeKindTag","reduceColor","reduceText","Caption","whiteSpace","partitionDefinition","PartitionCountLabels","partitionStats","partitionCountString","numPartitions","buildAssetNodeStatusContent","expanded","AssetRunLink","runId","event","stepKey","timestamp","TimestampDisplay","Number","timeFormat","showSeconds","showTimezone","StaleReasonsLabel","include","gridTemplateColumns","fontSize","HeaderCell","VirtualizedAssetHeader","nameLabel"],"sourceRoot":""}